<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InternLink - Student Portal</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    
    <!-- LOGIN SECTION -->
    <div id="login-container" class="auth-container">
        <div class="auth-box">
            <div class="auth-header">
                <h1>InternLink</h1>
                <p>Your springboard to professional excellence</p>
            </div>
            
            <!-- Login Form -->
            <form id="login-form" onsubmit="loginUser(event)">
                <h2>Welcome Back</h2>
                <p class="auth-subtitle">Sign in to continue your journey</p>
                
                <div class="form-group">
                    <label for="login-email">Email Address</label>
                    <input type="email" id="login-email" required placeholder="Enter your email">
                </div>
                
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required placeholder="Enter your password">
                </div>
                
                <p class="forgot-password">
                    <a href="#" onclick="showForgotPassword(); return false;">Forgot Password?</a>
                </p>
                
                <div id="login-error" class="error-message hidden"></div>
                
                <button type="submit" class="btn-primary">Sign In</button>
                
                <p class="auth-toggle">
                    Don't have an account? 
                    <a href="#" onclick="showAuthForm('signup'); return false;">Sign Up</a>
                </p>
            </form>
            
            <!-- Signup Form-->
            <form id="signup-form" class="hidden" onsubmit="signupUser(event)">
                <h2>Create Account</h2>
                <p class="auth-subtitle">Join InternLink today</p>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="signup-firstname">First Name</label>
                        <input type="text" id="signup-firstname" required placeholder="First name">
                    </div>
                    <div class="form-group">
                        <label for="signup-lastname">Last Name</label>
                        <input type="text" id="signup-lastname" required placeholder="Last name">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="signup-email">Email Address</label>
                    <input type="email" id="signup-email" required placeholder="Enter your email">
                </div>
                
                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <input type="password" id="signup-password" required 
                           placeholder="Minimum 8 characters" minlength="8">
                </div>
                
                <div class="form-group">
                    <label for="signup-confirm-password">Confirm Password</label>
                    <input type="password" id="signup-confirm-password" required 
                           placeholder="Re-enter password">
                </div>
                
                <div id="signup-error" class="error-message hidden"></div>
                
                <button type="submit" class="btn-primary">Sign Up</button>
                
                <p class="auth-toggle">
                    Already have an account? 
                    <a href="#" onclick="showAuthForm('login'); return false;">Sign In</a>
                </p>
            </form>

            <!-- Forgot Password Form -->
            <form id="forgot-password-form" class="hidden" onsubmit="resetPassword(event)">
                <h2>Reset Password</h2>
                <p class="auth-subtitle">Enter your email to reset your password</p>
                
                <div class="form-group">
                    <label for="reset-email">Email Address</label>
                    <input type="email" id="reset-email" required placeholder="Enter your email">
                </div>
                
                <div class="form-group hidden" id="reset-code-group">
                    <label for="reset-code">Reset Code</label>
                    <input type="text" id="reset-code" placeholder="Enter code from email" maxlength="6">
                </div>
                
                <div class="form-group hidden" id="new-password-group">
                    <label for="new-password">New Password</label>
                    <input type="password" id="new-password" placeholder="Minimum 8 characters" minlength="8">
                </div>
                
                <div class="form-group hidden" id="confirm-new-password-group">
                    <label for="confirm-new-password">Confirm New Password</label>
                    <input type="password" id="confirm-new-password" placeholder="Re-enter password">
                </div>
                
                <div id="forgot-error" class="error-message hidden"></div>
                <div id="forgot-success" class="success-message hidden"></div>
                
                <button type="submit" class="btn-primary" id="reset-submit-btn">Send Reset Code</button>
                
                <p class="auth-toggle">
                    Remember your password? 
                    <a href="#" onclick="showAuthForm('login'); return false;">Back to Login</a>
                </p>
            </form>
        </div>
    </div>

    <div id="app-container" class="hidden">
        
        <nav>
            <div class="nav-user">
                <span id="nav-username">Student</span>
            </div>
            
            <!-- Hamburger Menu Icon -->
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <!-- Navigation Links -->
            <div class="nav-links">
                <a href="#" onclick="showSection('home'); return false;">üè† Home</a>
                <a href="#" onclick="showSection('register'); return false;">üìù Complete Profile</a>
                <a href="#" onclick="showSection('internships'); return false;">üíº Available Internships</a>
                <a href="#" onclick="showSection('applications'); return false;">üìã My Applications</a>
                <a href="#" onclick="showSection('profile'); return false;">üë§ Profile</a>
                <a href="#" onclick="logout(); return false;">üö™ Log Out</a>
            </div>
        </nav>

        <header>
            <h1>InternLink</h1>
            <p>Your springboard to professional excellence</p>
        </header>

        <main>
            <!-- HOME PAGE-->
            <section id="home-section">
                <h2>Welcome to InternLink Student Portal</h2>
                
                <div class="welcome-message">
                    <h3>Start Your Career Journey Today!</h3>
                    <p id="welcome-user-name">Complete your profile to access exclusive internship opportunities</p>
                </div>
                
                <p style="line-height: 1.8; color: #555;">
                    This platform connects students with valuable internship opportunities across various industries. 
                    Whether you're looking to gain practical experience, develop new skills, or explore career paths, 
                    we're here to help you find the perfect internship match.
                </p>
                
                <div style="margin-top: 2rem;">
                    <button onclick="showSection('register')">Complete Your Profile</button>
                    <button onclick="showSection('internships')" style="margin-left: 1rem;" class="btn-secondary">Browse Internships</button>
                </div>
            </section>

            <!-- REGISTRATION SECTION -->
            <section id="register-section" class="hidden">
                <h2>Complete Your Profile</h2>
                
                <form id="registration-form" class="registration-form active" onsubmit="registerStudent(event)">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name *</label>
                            <input type="text" id="firstName" required readonly>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name *</label>
                            <input type="text" id="lastName" required readonly>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" required readonly>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number *</label>
                            <input type="tel" id="phone" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="university">University/College *</label>
                            <input type="text" id="university" required>
                        </div>
                        <div class="form-group">
                            <label for="course">Course/Program *</label>
                            <input type="text" id="course" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="year">Year of Study *</label>
                            <select id="year" required>
                                <option value="">Select Year</option>
                                <option value="1">First Year</option>
                                <option value="2">Second Year</option>
                                <option value="3">Third Year</option>
                                <option value="4">Fourth Year</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="gpa">GPA/Grade *</label>
                            <input type="text" id="gpa" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="skills">Skills (comma separated)</label>
                        <input type="text" id="skills" placeholder="e.g., Python, Data Analysis, Communication">
                    </div>

                    <div class="form-group">
                        <label for="interests">Areas of Interest</label>
                        <textarea id="interests" rows="3" placeholder="Describe your career interests and goals"></textarea>
                    </div>

                    <button type="submit">Save Profile</button>
                </form>
            </section>

            <!--Displays the available internships -->
            <section id="internships-section" class="hidden">
                <h2>Available Internships</h2>
                
                <div class="internships-grid">
                    
                    <div class="card">
                        <h3>Software Developer Intern</h3>
                        <p class="company"><b>Company:</b> TechNova Solutions</p>
                        <p class="location"><b>Location:</b> Nairobi</p>
                        <p><b>Duration:</b> 3 months</p>
                        <p><b>Requirements:</b> Programming skills, Team player</p>
                        <button onclick="applyInternship('Software Developer', 'TechNova Solutions')">Apply Now</button>
                    </div>

                    <div class="card">
                        <h3>Data Analyst Intern</h3>
                        <p class="company"><b>Company:</b> DataBridge</p>
                        <p class="location"><b>Location:</b> Mombasa</p>
                        <p><b>Duration:</b> 4 months</p>
                        <p><b>Requirements:</b> Excel, SQL, Analytical thinking</p>
                        <button onclick="applyInternship('Data Analyst', 'DataBridge')">Apply Now</button>
                    </div>

                    <div class="card">
                        <h3>Marketing Intern</h3>
                        <p class="company"><b>Company:</b> BrandWave Agency</p>
                        <p class="location"><b>Location:</b> Nairobi</p>
                        <p><b>Duration:</b> 3 months</p>
                        <p><b>Requirements:</b> Social Media, Content Creation</p>
                        <button onclick="applyInternship('Marketing', 'BrandWave Agency')">Apply Now</button>
                    </div>

                    <div class="card">
                        <h3>Finance Intern</h3>
                        <p class="company"><b>Company:</b> Capital Advisors</p>
                        <p class="location"><b>Location:</b> Kisumu</p>
                        <p><b>Duration:</b> 6 months</p>
                        <p><b>Requirements:</b> Accounting, Financial Analysis</p>
                        <button onclick="applyInternship('Finance', 'Capital Advisors')">Apply Now</button>
                    </div>
                </div>
            </section>

            <!--application history -->
            <section id="applications-section" class="hidden">
                <h2>My Applications</h2>
                
                <!-- Scrollable table wrapper for mobile -->
                <div class="table-wrapper">
                    <table class="applications-table">
                        <thead>
                            <tr>
                                <th>Position</th>
                                <th>Company</th>
                                <th>Date Applied</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="applications-tbody">
                            <tr>
                                <td colspan="4" style="text-align: center; padding: 2rem; color: #999;">
                                    No applications yet. Start applying to internships!
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="profile-section" class="hidden">
                <h2>My Profile</h2>
                
                <div class="profile-info" id="profile-display">
                    <p style="text-align: center; color: #999; padding: 2rem;">
                        Please complete your profile to view information.
                    </p>
                </div>
                
                <button onclick="showSection('register')" style="margin-top: 1rem;">Edit Profile</button>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 InternLink | Developed by Natasha Oyugi</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>